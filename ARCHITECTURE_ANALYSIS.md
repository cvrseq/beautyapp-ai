# –ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞ Beauty AI

## üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. **–ß—Ä–µ–∑–º–µ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–∞ `any`**

**–ü—Ä–æ–±–ª–µ–º—ã:**
- 33+ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `any` –≤ –∫–æ–¥–æ–≤–æ–π –±–∞–∑–µ
- –ü–æ—Ç–µ—Ä—è —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ TypeScript
- –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ runtime –æ—à–∏–±–∫–∏

**–ü—Ä–∏–º–µ—Ä—ã:**
```typescript
// convex/products.ts
analysis: v.any() // –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ö–µ–º–∞

// convex/schema.ts
skinTypeCompatibility: v.optional(v.any()) // "–í—Ä–µ–º–µ–Ω–Ω–æ" - –∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω

// app/product-result.tsx
let analysis: any = { ingredients: [] };
const product = useQuery(api.products.getById, { id: id as any });

// convex/analysis.ts
const aiResult = (await ctx.runAction(...)) as any;
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–æ–≥–∏–µ TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Zod –∏–ª–∏ Convex `v.object()` –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- –£–±—Ä–∞—Ç—å –≤—Å–µ `as any` –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è —Ç–∏–ø–æ–≤

---

### 2. **–°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è JSON –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö**

**–ü—Ä–æ–±–ª–µ–º—ã:**
```typescript
// convex/products.ts:39
ingredientsAnalysis: JSON.stringify(args.analysis) // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∫–∞–∫ —Å—Ç—Ä–æ–∫—É
```

- –ü–æ—Ç–µ—Ä—è —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—è –≤–Ω—É—Ç—Ä–∏ JSON
- –°–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –ø–æ –≤–ª–æ–∂–µ–Ω–Ω—ã–º –¥–∞–Ω–Ω—ã–º
- –ü–∞—Ä—Å–∏–Ω–≥ JSON –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –ø—Ä–∏ –∫–∞–∂–¥–æ–º —á—Ç–µ–Ω–∏–∏

**–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```typescript
// app/product-result.tsx:54-63
let analysis: any = { ingredients: [] };
try {
  analysis = typeof product.ingredientsAnalysis === 'string'
    ? JSON.parse(product.ingredientsAnalysis)
    : product.ingredientsAnalysis;
} catch (e) {
  console.error('Failed to parse ingredientsAnalysis', e);
  analysis = { ingredients: [] };
}
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –†–∞–∑–±–∏—Ç—å `ingredientsAnalysis` –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø–æ–ª—è —Å—Ö–µ–º—ã
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Convex `v.any()` –Ω–æ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ Zod

---

### 3. **–ú–∏–≥—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –ª–µ—Ç—É –≤ query**

**–ü—Ä–æ–±–ª–µ–º—ã:**
```typescript
// convex/products.ts:107-143
export const getById = query({
  handler: async (ctx, args) => {
    // –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ –ª–µ—Ç—É: –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º —Å—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç –≤ –Ω–æ–≤—ã–π –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏
    if (product.skinTypeCompatibility) {
      const compatibility = product.skinTypeCompatibility as any;
      // ... 30+ —Å—Ç—Ä–æ–∫ –ª–æ–≥–∏–∫–∏ –º–∏–≥—Ä–∞—Ü–∏–∏
      // –°–æ—Ö—Ä–∞–Ω—è–µ–º –º–∏–≥—Ä–∞—Ü–∏—é –æ–±—Ä–∞—Ç–Ω–æ –≤ –ë–î –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ (–Ω–µ –±–ª–æ–∫–∏—Ä—É–µ–º –æ—Ç–≤–µ—Ç)
      // –ú–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é —á–µ—Ä–µ–∑ action
    }
    return product;
  },
});
```

- –ú–∏–≥—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º —á—Ç–µ–Ω–∏–∏ (–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
- –ù–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ –≤ –ë–î (–ø—Ä–æ–±–ª–µ–º–∞ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è)
- –ù–∞—Ä—É—à–µ–Ω–∏–µ Single Responsibility Principle
- Query –Ω–µ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –º–∏–≥—Ä–∞—Ü–∏–π

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –æ–¥–∏–Ω —Ä–∞–∑ —á–µ—Ä–µ–∑ `runMigration` action
- –£–¥–∞–ª–∏—Ç—å –ª–æ–≥–∏–∫—É –º–∏–≥—Ä–∞—Ü–∏–∏ –∏–∑ query –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ö–µ–º—ã –¥–ª—è –±—É–¥—É—â–∏—Ö –º–∏–≥—Ä–∞—Ü–∏–π

---

### 4. **–ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤**

**–ü—Ä–æ–±–ª–µ–º—ã:**
```typescript
// convex/products.ts:71
const allProducts = await ctx.db.query('products').collect();

// –§–∏–ª—å—Ç—Ä—É–µ–º –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏–ª–∏ –±—Ä–µ–Ω–¥—É (—Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π –ø–æ–∏—Å–∫)
const filtered = allProducts.filter(
  (product) =>
    product.name.toLowerCase().includes(searchQuery) ||
    product.brand.toLowerCase().includes(searchQuery)
);
```

- –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –í–°–ï –ø—Ä–æ–¥—É–∫—Ç—ã –≤ –ø–∞–º—è—Ç—å (`collect()`)
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –ø–∞–º—è—Ç–∏ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
- O(n) —Å–ª–æ–∂–Ω–æ—Å—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
- –ù–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è (–ø—Ä–∏ 10k+ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –±—É–¥–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–æ)
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø—Ä–∏–∑–Ω–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É, –Ω–æ –Ω–µ —Ä–µ—à–∞–µ—Ç

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ Convex (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
- –ò–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ –ø–æ–¥—Å—Ç—Ä–æ–∫–∞–º
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–Ω–µ—à–Ω–∏–π –ø–æ–∏—Å–∫–æ–≤—ã–π –¥–≤–∏–∂–æ–∫ (Algolia, Typesense)

---

### 5. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ `imageBase64` (–º–æ–∂–µ—Ç –±—ã—Ç—å –æ–≥—Ä–æ–º–Ω—ã–º)
- –ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ñ–æ—Ä–º–∞—Ç–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –ù–µ—Ç rate limiting –Ω–∞ API endpoints
- –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ SQL injection (—Ö–æ—Ç—è Convex –∑–∞—â–∏—â–∞–µ—Ç)
- –ù–µ—Ç —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏–∏ —Å—Ç—Ä–æ–∫ –ø–æ–∏—Å–∫–∞

**–ü—Ä–∏–º–µ—Ä—ã:**
```typescript
// convex/analysis.ts
args: { 
  imageBase64: v.string(), // –ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –¥–ª–∏–Ω—ã
  skinType: v.optional(...)
}

// convex/products.ts:64
args: { searchQuery: v.string() }, // –ë–µ–∑ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–ª–∏–Ω—ã/—Ñ–æ—Ä–º–∞—Ç–∞
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –î–æ–±–∞–≤–∏—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –¥–ª–∏–Ω—É –¥–ª—è `imageBase64`
- –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç base64
- –î–æ–±–∞–≤–∏—Ç—å rate limiting
- –°–∞–Ω–∏—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å search queries

---

## üü° –°–µ—Ä—å—ë–∑–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 6. **–°–ª–∞–±–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**

**–ü—Ä–æ–±–ª–µ–º—ã:**
- `console.error` –≤–º–µ—Å—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- –ù–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- –û—à–∏–±–∫–∏ API –º–∞—Å–∫–∏—Ä—É—é—Ç—Å—è –æ–±—â–∏–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- –ù–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –æ—à–∏–±–æ–∫ (Sentry –∏ —Ç.–ø.)

**–ü—Ä–∏–º–µ—Ä—ã:**
```typescript
// convex/ai_logic.ts:110
catch (e) {
  console.error('OpenRouter JSON parse error', e, text);
  return { error: '–ò–ò –≤–µ—Ä–Ω—É–ª –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ...' };
}

// app/(tabs)/camera.tsx:100-102
catch (error) {
  console.error(error);
  setErrorMessage('–û—à–∏–±–∫–∞ –∫–∞–º–µ—Ä—ã...');
}
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –í–Ω–µ–¥—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –î–æ–±–∞–≤–∏—Ç—å Sentry –∏–ª–∏ –∞–Ω–∞–ª–æ–≥ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- –°–æ–∑–¥–∞—Ç—å —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã –æ—à–∏–±–æ–∫
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —á–µ—Ä–µ–∑ error boundary

---

### 7. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ —Ç–∏–ø–æ–≤ –∫–æ–∂–∏**

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Ç–∏–ø–æ–≤ –∫–æ–∂–∏ –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–∞—Ö
- –ù–µ—Ç –µ–¥–∏–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∏—Å—Ç–∏–Ω—ã

**–ú–µ—Å—Ç–∞ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è:**
```typescript
// convex/ai_logic.ts:8-14
skinType: v.optional(v.union(
  v.literal('dry'), v.literal('oily'), ...
))

// convex/products.ts:115
const validTypes = ['dry', 'oily', 'combination', 'normal', 'sensitive'];

// hooks/useSkinType.ts:19
if (stored && ['dry', 'oily', 'combination', 'normal', 'sensitive'].includes(stored))

// app/skin-type-quiz.tsx:12-18
const SKIN_TYPES = [
  { id: 'dry', label: '–°—É—Ö–∞—è', ... },
  ...
]
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –°–æ–∑–¥–∞—Ç—å `types/skinType.ts` —Å –µ–¥–∏–Ω—ã–º–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏
- –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø—ã –∏ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã –æ—Ç—Ç—É–¥–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–µ–∑–¥–µ –æ–¥–∏–Ω –∏—Å—Ç–æ—á–Ω–∏–∫

---

### 8. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ù–µ—Ç unit —Ç–µ—Å—Ç–æ–≤
- –ù–µ—Ç integration —Ç–µ—Å—Ç–æ–≤
- –¢–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ç–µ—Å—Ç —Ñ–∞–π–ª (`StyledText-test.js`) –∏–∑ —à–∞–±–ª–æ–Ω–∞
- –ù–µ—Ç E2E —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–ª–æ—É

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Jest + React Native Testing Library
- –ü–æ–∫—Ä—ã—Ç—å —Ç–µ—Å—Ç–∞–º–∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É (AI parsing, –º–∏–≥—Ä–∞—Ü–∏–∏)
- –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è hooks (useSkinType)
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD —Å –∑–∞–ø—É—Å–∫–æ–º —Ç–µ—Å—Ç–æ–≤

---

### 9. **–•–∞—Ä–¥–∫–æ–¥ –∑–Ω–∞—á–µ–Ω–∏–π –∏ –º–∞–≥–∏—á–µ—Å–∫–∏–µ —á–∏—Å–ª–∞**

**–ü—Ä–æ–±–ª–µ–º—ã:**
```typescript
// convex/ai_logic.ts:52
if (aiResult.confidence < 0.7) // –ú–∞–≥–∏—á–µ—Å–∫–æ–µ —á–∏—Å–ª–æ

// app/(tabs)/camera.tsx:65
quality: 0.5 // –ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç?
resize: { width: 800 } // –ü–æ—á–µ–º—É 800?

// convex/ai_logic.ts:168-174
if (item.score >= 70 && item.status !== 'good') {
  // –ü–æ—Ä–æ–≥–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏
} else if (item.score < 40 && item.status !== 'bad') {
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –í—ã–Ω–µ—Å—Ç–∏ –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (`constants/thresholds.ts`)
- –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º –∑–Ω–∞—á–µ–Ω–∏–π
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã

---

### 10. **–°–ª–∞–±–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ frontend**

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ `app/` (—Å–º–µ—à–∏–≤–∞–Ω–∏–µ —ç–∫—Ä–∞–Ω–æ–≤ –∏ –ª–æ–≥–∏–∫–∏)
- –ù–µ—Ç —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –Ω–∞ `features/`, `shared/`, `components/`
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ —à–∞–±–ª–æ–Ω–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è (`EditScreenInfo`, `StyledText`)
- –ù–µ—Ç –ø–∞–ø–∫–∏ `utils/` –∏–ª–∏ `lib/` –¥–ª—è —É—Ç–∏–ª–∏—Ç

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
```
app/              # –¢–æ–ª—å–∫–æ –º–∞—Ä—à—Ä—É—Ç—ã (Expo Router)
features/
  camera/
  products/
  skin-type/
components/       # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
hooks/            # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ö—É–∫–∏
utils/            # –£—Ç–∏–ª–∏—Ç—ã, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
types/            # TypeScript —Ç–∏–ø—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
constants/        # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```

---

## üü¢ –£–ª—É—á—à–µ–Ω–∏—è –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 11. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è**

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ö–∞–∂–¥—ã–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–¥—É–∫—Ç–∞ –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ AI API
- –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏: –±—ã–ª –ª–∏ –ø—Ä–æ–¥—É–∫—Ç —É–∂–µ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
- –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ —Å–∫–∞–Ω—ã –æ–¥–Ω–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞ —Ç—Ä–∞—Ç—è—Ç API –∫–≤–æ—Ç—É

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–∏—Å–∫ –ø—Ä–æ–¥—É–∫—Ç–∞ –ø–æ `brand + name` –ø–µ—Ä–µ–¥ –∞–Ω–∞–ª–∏–∑–æ–º
- –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã AI –∞–Ω–∞–ª–∏–∑–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å React Query –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ

---

### 12. **–ù–µ—Ç –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è API**

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –ª–æ–º–∞–µ—Ç—Å—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- –ù–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –º–∏–≥—Ä–∞—Ü–∏–π –¥–ª—è –±—É–¥—É—â–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –î–æ–±–∞–≤–∏—Ç—å –≤–µ—Ä—Å–∏—é —Å—Ö–µ–º—ã –≤ schema
- –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ API
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å breaking changes

---

### 13. **–°–ª–∞–±–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π README
- –ù–µ—Ç JSDoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –≤ –∫–æ–¥–µ
- –ù–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- –ù–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –†–∞—Å—à–∏—Ä–∏—Ç—å README —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
- –î–æ–±–∞–≤–∏—Ç—å JSDoc –∫ –ø—É–±–ª–∏—á–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º
- –°–æ–∑–¥–∞—Ç—å CONTRIBUTING.md
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

---

### 14. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ù–µ—Ç –º–µ—Ç—Ä–∏–∫ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞ API
- –ù–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ payload
- –ù–µ—Ç –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π
- –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Convex dashboard –¥–ª—è –º–µ—Ç—Ä–∏–∫

---

### 15. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è**

**–ü—Ä–æ–±–ª–µ–º—ã:**
```typescript
// app/_layout.tsx:4
const convex = new ConvexReactClient(process.env.EXPO_PUBLIC_CONVEX_URL || '');
// –ü—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é - –Ω–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–ª–∏—á–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ env (–Ω–∞–ø—Ä–∏–º–µ—Ä, `envalid`)
- –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

---

## üìä –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (—Å–¥–µ–ª–∞—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ)
1. ‚úÖ –£–±—Ä–∞—Ç—å `any` —Ç–∏–ø—ã, —Å–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–æ–≥–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
2. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ (–≤—ã–ø–æ–ª–Ω–∏—Ç—å –æ–¥–∏–Ω —Ä–∞–∑, —É–¥–∞–ª–∏—Ç—å –∏–∑ query)
3. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–∏—Å–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (–Ω–µ –∑–∞–≥—Ä—É–∂–∞—Ç—å –≤—Å–µ)
4. ‚úÖ –í—ã–Ω–µ—Å—Ç–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Ç–∏–ø–æ–≤ –∫–æ–∂–∏ –≤ –æ–¥–∏–Ω —Ñ–∞–π–ª
5. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (—Å–ª–µ–¥—É—é—â–∏–π —Å–ø—Ä–∏–Ω—Ç)
6. ‚úÖ –£–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ (—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
7. ‚úÖ –†–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–∞–ø–∫–∏ frontend
8. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∞–Ω–∞–ª–∏–∑–∞
9. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –ª–æ–≥–∏–∫–∏
10. ‚úÖ –í—ã–Ω–µ—Å—Ç–∏ –º–∞–≥–∏—á–µ—Å–∫–∏–µ —á–∏—Å–ª–∞ –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (—Ç–µ—Ö–¥–æ–ª–≥)
11. ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (JSDoc, README)
12. ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏
13. ‚úÖ –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ API
14. ‚úÖ E2E —Ç–µ—Å—Ç—ã

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞

- **TypeScript strict mode**: ‚úÖ –í–∫–ª—é—á–µ–Ω, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `any` (–Ω–∞—Ä—É—à–µ–Ω–∏–µ)
- **Type coverage**: ~60% (–º–Ω–æ–≥–æ `any`)
- **Test coverage**: ~0% (–∫—Ä–∏—Ç–∏—á–Ω–æ)
- **Code duplication**: –°—Ä–µ–¥–Ω–∏–π (—Ç–∏–ø—ã –∫–æ–∂–∏)
- **Cyclomatic complexity**: –ù–∏–∑–∫–∞—è (–ø—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞)
- **Dependencies**: –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ ‚úÖ

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ

1. **–°–ª–æ–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
   - Presentation (React Native screens)
   - Domain (business logic, types)
   - Data (Convex queries/mutations)
   - Infrastructure (API clients, storage)

2. **Feature-based —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
   - –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –ø–æ —Ñ–∏—á–∞–º, –∞ –Ω–µ –ø–æ —Ç–∏–ø–∞–º —Ñ–∞–π–ª–æ–≤
   - –ö–∞–∂–¥–∞—è —Ñ–∏—á–∞ —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞ (hooks, components, types)

3. **Dependency Injection:**
   - –í—ã–Ω–æ—Å–∏—Ç—å API clients –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏
   - –£–ø—Ä–æ—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ

4. **Error Handling Strategy:**
   - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π error handler
   - –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏
   - User-friendly —Å–æ–æ–±—â–µ–Ω–∏—è

5. **State Management:**
   - Convex queries –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ state ‚úÖ
   - React Context/useState –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ state ‚úÖ
   - –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å Zustand –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ state (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

